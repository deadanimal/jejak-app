<ion-header mode="ios">
  <ion-toolbar mode="ios" class="ion-text-center">
    <ion-segment [(ngModel)]="segment" (ionChange)="segmentChanged($event)">
      <ion-segment-button value="appliance">
        <ion-label>Appliance</ion-label>
      </ion-segment-button>
      <ion-segment-button value="power">
        <ion-label>Power</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div>
    <div>
      <div style="text-align: center;">
        <ion-button size="small" color="light">Today</ion-button>
        <ion-button size="small" color="light">Week</ion-button>
        <ion-button size="small" color="light">Month</ion-button>
      </div>
      <div>
        <div *ngIf="segment == 'appliance'">
          <div id="divAppliance" style="width: 100%; height: 200px"></div>
        </div>
        <div *ngIf="segment == 'power'">
          <canvas #canvasPower style="width: 100%; height: 200px"></canvas>
        </div>
        <ion-grid>
          <ion-row>
            <ion-col class="ion-text-right">
              <ion-label>
                <h1>461<span class="text-small">W</span></h1>
                <p><span class="text-small">RM0.70/hr</span></p>
              </ion-label>
            </ion-col>
            <ion-col>
              <ion-label>
                <h1>691<span class="text-small">W</span></h1>
                <p><span class="text-small">RM0.70/hr</span></p>
              </ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </div>
  </div>

  <ion-list class="feed-list">
    <ion-list-header lines="none">
      <h3 class="ion-no-margin">Feed</h3>
    </ion-list-header>

    <ion-item detail *ngFor="let activity of activities" lines="none" (click)="viewDetails()">
      <ion-avatar slot="start">
        <img *ngIf="activity.appliance == 'Microwave'" [src]="iconMicrowave">
        <img *ngIf="activity.appliance == 'Toaster'" [src]="iconToaster">
      </ion-avatar>
      <ion-label class="ion-text-wrap">
        <h2>{{activity.appliance}}</h2>
        <p>{{activity.description}}</p>
      </ion-label>
      <ion-label slot="end" class="ion-text-right">
        <p>{{activity.created_date}}</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>


<!--

<ion-list class="feed-list">
    <ion-list-header lines="none">
      <h3 class="ion-no-margin">Feed</h3>
    </ion-list-header>

    <ion-item detail lines="none" (click)="viewDetails()">
      <ion-avatar slot="start">
        <img [src]="iconMicrowave">
      </ion-avatar>
      <ion-label class="ion-text-wrap">
        <h2>Microwave</h2>
        <p>Turned off</p>
      </ion-label>
      <ion-label slot="end" class="ion-text-end">
        <p>08:12:00</p>
      </ion-label>
    </ion-item>

    <ion-item detail lines="none" (click)="viewDetails()">
      <ion-avatar slot="start">
        <img [src]="iconMicrowave">
      </ion-avatar>
      <ion-label class="ion-text-wrap">
        <h2>Microwave</h2>
        <p>On for 1 minutes</p>
      </ion-label>
      <ion-label slot="end" class="ion-text-end">
        <p>08:10:00</p>
      </ion-label>
    </ion-item>

    <ion-item detail lines="none" (click)="viewDetails()">
      <ion-avatar slot="start">
        <img [src]="iconToaster">
      </ion-avatar>
      <ion-label class="ion-text-wrap">
        <h2>Toaster</h2>
        <p>Turned off</p>
      </ion-label>
      <ion-label slot="end" class="ion-text-end">
        <p>19/04 20:30</p>
      </ion-label>
    </ion-item>

    <ion-item detail lines="none" (click)="viewDetails()">
      <ion-avatar slot="start">
        <img [src]="iconToaster">
      </ion-avatar>
      <ion-label class="ion-text-wrap">
        <h2>Toaster</h2>
        <p>Turned on for 30 seconds</p>
      </ion-label>
      <ion-label slot="end" class="ion-text-end">
        <p>19/04 20:29</p>
      </ion-label>
    </ion-item>
  </ion-list>

-->